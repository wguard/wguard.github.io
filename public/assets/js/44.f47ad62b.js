(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{493:function(s,n,a){"use strict";a.r(n);var t=a(1),r=Object(t.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h4",{attrs:{id:"技术交底书"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#技术交底书"}},[s._v("#")]),s._v(" 技术交底书")]),s._v(" "),n("h4",{attrs:{id:"发明名称"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#发明名称"}},[s._v("#")]),s._v(" 发明名称")]),s._v(" "),n("p",[s._v("基于sftp协议代理的文件杀毒传输的方法、装置")]),s._v(" "),n("h4",{attrs:{id:"技术背景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#技术背景"}},[s._v("#")]),s._v(" 技术背景")]),s._v(" "),n("p",[s._v("SFTP是文件传输协议(FTP)的安全版本，也是SSH协议的一部分，可通过安全SHELL(SSH)数据流轻松进行数据传输和数据访问。它提供了一个安全的连接来传输文件，并在本地和远程系统上遍历文件系统。通过SFTP传输的数据为加密数据，但对文件自身的安全无法保障。")]),s._v(" "),n("p",[s._v("我们可以通过做一层代理来解决文件传输过程中，文件本身的安全问题。通过对协议数据的拦截，我们可以得到文件副本，可对副本进行处理后转发至目标机器。")]),s._v(" "),n("h4",{attrs:{id:"相似专利"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#相似专利"}},[s._v("#")]),s._v(" 相似专利")]),s._v(" "),n("p",[s._v("一种SFTP数据采集及审计的方法及系统（CN106941476B）")]),s._v(" "),n("h4",{attrs:{id:"技术方案"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#技术方案"}},[s._v("#")]),s._v(" 技术方案")]),s._v(" "),n("ol",[n("li",[s._v("本发明专利的总体流程图如下")])]),s._v(" "),n("div",{staticClass:"language-mermaid line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-mermaid"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("graph")]),s._v(" TB\n    拦截sftp协议数据 "),n("span",{pre:!0,attrs:{class:"token arrow operator"}},[s._v("--\x3e")]),s._v(" 将协议数据缓存至本地 "),n("span",{pre:!0,attrs:{class:"token arrow operator"}},[s._v("--\x3e")]),s._v(" 对文件进行处理 "),n("span",{pre:!0,attrs:{class:"token arrow operator"}},[s._v("--\x3e")]),s._v(" 转发至目标机器\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[s._v("时序图")])]),s._v(" "),n("div",{staticClass:"language-markdown line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-markdown"}},[n("code",[s._v("                                                                                                                                                                                                                                                                                                                                                                                                                                                                    \n"),n("span",{pre:!0,attrs:{class:"token code keyword"}},[s._v("          ┌───────────────┐                ┌───────────────┐                 ┌───────────────┐\n          │               │                │               │                 │               │\n          │    client     │                │     proxy     │                 │    target     │\n          │               │                │               │                 │               │\n          └───────────────┘                └───────────────┘                 └───────────────┘\n                  │                                │                                 │        \n                                                                                              \n                  ├────────────────────────────────┤                                 │        \n                  │              auth              │                                          \n                  ┼                                ▼                                 │        \n                 ┌─┐                              ┌─┐                                         \n                 │ │                              │ │                                │        \n                 │ │                              │ │                                         \n                 │ │                              │ │                                │        \n                 │ │                              │ │                                         \n                 │ │                              │ │                                │        \n                 │ │                              └─┘                                         \n                 │ │                               │                                 │        \n                 │ │                                                                          \n                 │ │                               │                                 │        \n                 │ │                                           connect                        \n                 │ │                               │                                 │        \n                 │ │                               ┌─────────────────────────────────┐        \n                 │ │                               │                                 │        \n                 │ │                               │                                 ▼        \n                 │ │                              ┌┴┐                               ┌┴┐       \n                 │ │                              │ │                               │ │       \n                 │ │                              │ │                               │ │       \n                 │ │                              │ │                               │ │       \n                 └┬┘                              │ │                               │ │       \n                  ▲                               │ │                               │ │       \n                  │                               └┬┘                               └┬┘       \n                                                   │                                 │        \n                  │           connect              │             connect             │        \n                   ─ ─ ─ ─ ─ ─success─ ─ ─ ─ ─ ─ ─ ┴ ─ ─ ─ ─ ─ ─ success ─ ─ ─ ─ ─ ─ ┘        \n                  │                                │                                 │        \n                                                                                              \n                  │             intercept          │                                 │        \n                              SSH_FXP_WRITE                                                   \n                  ├───────────,SSH_FXP_READ────────┤                                 │        \n                  │             packets.           │                                          \n                  │           handle file.         ▼                                 │        \n                 ┌─┐                              ┌─┐                                         \n                 │ │                              │ │                                │        \n                 │ │                              │ │                                         \n                 │ │                              │ │                                │        \n                 │ │                              │ │                                         \n                 │ │                              │ │                                │        \n                 └─┘                              └─┘                                         \n                  │                                │           File                  │        \n                                                   └────────forwarding───────────────┐        \n                  │                                │                                 ▼        \n                                                                                    ┌─┐       \n                  │                                │                                │ │       \n                                                                                    │ │       \n                  │                                │                                │ │       \n                                                                                    │ │       \n                  │                                │                                │ │       \n                                                                                    └─┘       \n                  │                                │                                 │        \n                                                                                                  \n                                                                                              ")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[s._v("算法流程")])]),s._v(" "),n("ul",[n("li",[s._v("代理端(proxy)与客户端(client)建立sftp连接，完成认证阶段。从客户端(client)数据中拿到需要连接的目标机器(target)的信息，与目标机器建立连接。")]),s._v(" "),n("li",[s._v("提取SFTP数据的关键操作码，从代理端拦截sftp的SSH_FXP_OPEN、SSH_FXP_CLOSE、SSH_FXP_WRITE、SSH_FXP_READ的数据，并通过认证阶段生成的加密算法，解析拿到的数据。")]),s._v(" "),n("li",[s._v("OPEN拿到文件的基本信息，然后从WRITE或者READ中拿到文件的数据，将文件写入本地，并通过CLOSE确认文件写入完成。")]),s._v(" "),n("li",[s._v("在本地对缓存文件进行扫描，并对文件的信息进行记录")]),s._v(" "),n("li",[s._v("文件处理完成后，将本地文件通过sftp模拟SSH_FXP_OPEN、SSH_FXP_CLOSE、SSH_FXP_WRITE、SSH_FXP_READ数据发送至目标机器（target)")])]),s._v(" "),n("h4",{attrs:{id:"发明的关键点和发明点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#发明的关键点和发明点"}},[s._v("#")]),s._v(" "),n("strong",[s._v("发明的关键点和发明点")])]),s._v(" "),n("ol",[n("li",[s._v("对sftp协议进行加固，对文件也进行了安全防护。")]),s._v(" "),n("li",[s._v("可扩展性，通过代理sftp协议数据，可对操作进行管控。")])])])}),[],!1,null,null,null);n.default=r.exports}}]);